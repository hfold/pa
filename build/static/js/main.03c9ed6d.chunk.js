(this["webpackJsonppunk-army-mint-app"]=this["webpackJsonppunk-army-mint-app"]||[]).push([[0],{301:function(e,t){},343:function(e,t,n){e.exports=n(623)},348:function(e,t,n){},349:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},350:function(e,t,n){},353:function(e,t){},359:function(e,t){},391:function(e,t){},408:function(e,t){},410:function(e,t){},416:function(e,t){},418:function(e,t){},501:function(e,t){},503:function(e,t){},510:function(e,t){},511:function(e,t){},611:function(e,t){},612:function(e,t,n){var a={"./connect-modal.entry.js":[625,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=612,e.exports=r},623:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(55),o=n.n(c),l=(n(348),n(349),n(350),n(6)),s=n(7),i=n(11),u=n(12),d=n(665),m=n(57),f=n(666),p=n(669),g=n(125),v=n(216),E=n(667),h=new g.a(["store_write","publish_data"]),b=new v.a({appConfig:h}),O={appDetails:{name:"Punk Army NFT",icon:window.location.origin+"/images/logo.png"},redirectTo:"/",onFinish:function(){window.location.reload()},userSession:b};var C=n(64),A=n(18),T=n(63),j=n(74),x=r.a.createContext(),_={logged:!1,theme:"dark",userData:{},isOwner:!1,mintEvent:{},mintAddresses:[],txs:[]},k=function(e,t){switch(t.type){case"update":return Object(j.a)(Object(j.a)({},e),t.obj);case"logout":return _;case"add_transaction":return t.tx&&t.tx.tx_id?e.txs.find((function(e){return e.tx_id===t.tx.tx_id}))?Object(j.a)(Object(j.a)({},e),{},{txs:e.txs.map((function(e){return e.tx_id===t.tx.tx_id?t.tx:e}))}):Object(j.a)(Object(j.a)({},e),{},{txs:[].concat(Object(T.a)(e.txs),[t.tx])}):Object(j.a)({},e);case"change_theme":return Object(j.a)(Object(j.a)({},e),{},{theme:t.theme});default:return t.obj}};function w(e){var t=r.a.useReducer(k,_),n=Object(A.a)(t,2),a={UserState:n[0],UserDispatch:n[1]};return r.a.createElement(x.Provider,{value:a},e.children)}x.Consumer;var N=n(4),S=n.n(N),y=n(9),D=n(17),R=n(25),M=n(668),L=n(49),F=window.network,U=null;U="testnet"==F?new L.b:new L.a;var W={SELECTED_NETWORK:F,CONTRACT_ADDRESS:window.COLLECTION_URL,CONTRACT_NAME:window.CONTRACT_NAME,NETWORK:U,COLLECTION_URL:window.COLLECTION_URL},K={getLastTokenId:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("calling get last token id"),e.prev=5,e.next=8,Object(M.a)({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"get-last-token-id",network:W.NETWORK,functionArgs:Object(T.a)(t),senderAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]});case 8:c=e.sent,a&&a(Object(R.b)(c).value.value),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error",e.t0),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),getLastPunkId:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("calling get last token id"),e.prev=5,e.next=8,Object(M.a)({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"get_last_punk",network:W.NETWORK,functionArgs:Object(T.a)(t),senderAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]});case 8:c=e.sent,a&&a(Object(R.b)(c).value.value),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error",e.t0),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),isOpenMinting:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("calling get last token id"),e.prev=5,e.next=8,Object(M.a)({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"is_open_minting",network:W.NETWORK,functionArgs:Object(T.a)(t),senderAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]});case 8:c=e.sent,a&&a("true"===Object(R.c)(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error",e.t0),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),isCtxOwner:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("calling is owner"),e.prev=5,e.next=8,Object(M.a)({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"is_nft_contract_owner",network:W.NETWORK,functionArgs:Object(T.a)(t),senderAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]});case 8:c=e.sent,a&&a("true"===Object(R.c)(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error",e.t0),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),currentMintEvent:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("calling current mint event"),e.prev=5,e.next=8,Object(M.a)({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"current_mint_event",network:W.NETWORK,functionArgs:Object(T.a)(t),senderAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]});case 8:c=e.sent,a&&a(Object(R.b)(c).value),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error",e.t0),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}()},P=n(127),z=n(659),I=n(664),H=n(111),X=n(663),J={addAddress:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:{principal:""},n=o.length>1?o[1]:void 0,a=o.length>2?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:null,c=o.length>4&&void 0!==o[4]?o[4]:null,console.log("calling add contractAddress");try{a({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"add_address_to_mint_event",functionArgs:[Object(P.e)(t.principal)],onFinish:function(e){console.log("onFinish",e),r&&r(e)},onCancel:function(e){console.log("onFinish",e),c&&c(e)},network:W.NETWORK,stxAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]})}catch(l){console.log("error",l),c&&c(l)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),removeAddress:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:{principal:""},n=o.length>1?o[1]:void 0,a=o.length>2?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:null,c=o.length>4&&void 0!==o[4]?o[4]:null,console.log("calling add contractAddress");try{a({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"remove_address_to_mint_event",functionArgs:[Object(P.e)(t.principal)],onFinish:function(e){console.log("onFinish",e),r&&r(e)},onCancel:function(e){console.log("onFinish",e),c&&c(e)},network:W.NETWORK,stxAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]})}catch(l){console.log("error",l),c&&c(l)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),openMintEvent:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:{mint_price:0,public_value:0,address_mint:0},n=o.length>1?o[1]:void 0,a=o.length>2?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:null,c=o.length>4&&void 0!==o[4]?o[4]:null,console.log("calling add contractAddress");try{a({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"open_mint_event",functionArgs:[Object(z.b)(t.mint_price),Object(z.b)(t.public_value)],onFinish:function(e){console.log("onFinish",e),r&&r(e)},onCancel:function(e){console.log("onFinish",e),c&&c(e)},network:W.NETWORK,stxAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]})}catch(l){console.log("error",l),c&&c(l)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),closeMintEvent:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.length>0&&void 0!==c[0]?c[0]:{},t=c.length>1?c[1]:void 0,n=c.length>2?c[2]:void 0,a=c.length>3&&void 0!==c[3]?c[3]:null,r=c.length>4&&void 0!==c[4]?c[4]:null,console.log("calling add contractAddress");try{n({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"close_mint_event",functionArgs:[],onFinish:function(e){console.log("onFinish",e),a&&a(e)},onCancel:function(e){console.log("onFinish",e),r&&r(e)},network:W.NETWORK,stxAddress:t.userData.profile.stxAddress[W.SELECTED_NETWORK]})}catch(o){console.log("error",o),r&&r(o)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addPunk:function(){var e=Object(y.a)(S.a.mark((function e(){var t,n,a,r,c,o,l,s,i,u=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.length>0&&void 0!==u[0]?u[0]:{list:[]},n=u.length>1?u[1]:void 0,a=u.length>2?u[2]:void 0,r=u.length>3&&void 0!==u[3]?u[3]:null,c=u.length>4&&void 0!==u[4]?u[4]:null,console.log("calling add punks");try{o=120,l=0,s=t.list,i=[],s.map((function(e){if(l!=o){var t=[];e.attributes.map((function(e){var n=Object(I.a)({trait_type:Object(H.a)(e.trait_type),value:Object(H.a)(String(e.value))});t.push(n)})),i.push(Object(I.a)({name:Object(H.a)(e.name),description:Object(H.a)(e.description),image:Object(H.a)(e.image),external_url:Object(H.a)(W.COLLECTION_URL),edition:Object(z.b)(1),attributes:Object(X.a)(t)})),l++}})),console.log("invio",Object(X.a)(i)),a({contractAddress:W.CONTRACT_ADDRESS,contractName:W.CONTRACT_NAME,functionName:"create-multiple-punk",functionArgs:[Object(X.a)(i)],onFinish:function(e){console.log("onFinish",e),r&&r(e)},onCancel:function(e){console.log("onFinish",e),c&&c(e)},network:W.NETWORK,stxAddress:n.userData.profile.stxAddress[W.SELECTED_NETWORK]})}catch(d){console.log("error",d),c&&c(d)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};function Y(e){var t=Object(C.useConnect)().doContractCall,n=r.a.useContext(x),a=n.UserState,c=n.UserDispatch,o=r.a.useState(""),l=Object(A.a)(o,2),s=l[0],i=l[1],u=r.a.useState(""),d=Object(A.a)(u,2),m=d[0],f=d[1],p=r.a.useState(!1),g=Object(A.a)(p,2),v=g[0],E=g[1],h=r.a.useState(!1),b=Object(A.a)(h,2),O=b[0],T=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add address in whitelist"),r.a.createElement("p",null,"Add an address to whitelist for mint events"),r.a.createElement(D.e,{floating:!0},r.a.createElement(D.f,{value:s,id:"add_address",onChange:function(e){return i(e.target.value)}}),r.a.createElement(D.g,{for:"add_address"},"STX Address")),r.a.createElement(D.b,{id:"confirm_add",color:"primary",style:{color:"#fff"},className:"mb-3",size:"md",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))},v?r.a.createElement(D.m,{size:"sm"}):r.a.createElement("b",null,"Confirm")),r.a.createElement("hr",null),r.a.createElement("h3",{className:"mt-3"},"Remove address from whitelist"),r.a.createElement("p",null,"Remove an address to whitelist for mint events"),r.a.createElement(D.e,{floating:!0},r.a.createElement(D.f,{value:m,id:"remove_address",onChange:function(e){return f(e.target.value)}}),r.a.createElement(D.g,{for:"remove_address"},"STX Address")),r.a.createElement(D.b,{id:"confirm_remove",color:"danger",style:{color:"#fff"},onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))},O?r.a.createElement(D.m,{size:"sm"}):r.a.createElement("b",null,"Confirm")),r.a.createElement(D.n,{placement:"bottom",target:"confirm_add",trigger:"focus"},r.a.createElement(D.k,null,"Are you sure to add this address?",r.a.createElement("br",null),r.a.createElement(D.b,{color:"primary",style:{color:"#fff"},className:"mb-3",size:"sm",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(!0),J.addAddress({principal:s},a,t,(function(e){E(!1),c({type:"add_transaction",tx:e})}),(function(e){E(!1),c({type:"add_transaction",tx:e})}));case 2:case"end":return e.stop()}}),e)})))},v?r.a.createElement(D.m,{size:"sm"}):"Yes"))),r.a.createElement(D.n,{placement:"bottom",target:"confirm_remove",trigger:"focus"},r.a.createElement(D.k,null,"Are you sure to remove this address?",r.a.createElement("br",null),r.a.createElement(D.b,{color:"primary",style:{color:"#fff"},className:"mb-3",size:"sm",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!0),J.removeAddress({principal:m},a,t,(function(e){T(!1),c({type:"add_transaction",tx:e})}),(function(e){E(!1),c({type:"add_transaction",tx:e})}));case 2:case"end":return e.stop()}}),e)})))},v?r.a.createElement(D.m,{size:"sm"}):"Yes"))))}function B(e){var t,n=r.a.useState(!1),a=Object(A.a)(n,2),c=a[0],o=a[1],l=r.a.useState(null),s=Object(A.a)(l,2),i=s[0],u=s[1],d=Object(C.useConnect)().doContractCall,m=r.a.useContext(x),f=m.UserState,p=m.UserDispatch,g=r.a.useState(!1),v=Object(A.a)(g,2),E=v[0],h=v[1],b=r.a.useState(0),O=Object(A.a)(b,2),T=O[0],j=O[1],_=r.a.useState(0),k=Object(A.a)(_,2),w=k[0],N=k[1],R=r.a.useState(0),M=Object(A.a)(R,2),L=M[0],F=M[1],U=r.a.useState(!1),W=Object(A.a)(U,2),P=W[0],z=W[1],I=r.a.useState(!1),H=Object(A.a)(I,2),X=H[0],Y=H[1];return r.a.useEffect((function(){c||K.isOpenMinting([],f,(function(e){h(e),e?K.currentMintEvent([],f,(function(e){console.log("event",e),o(!0),u(e)}),(function(e){o(!0)})):o(!0)}))})),c?r.a.createElement(r.a.Fragment,null,E?r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"#",null===(t=i.id)||void 0===t?void 0:t.value),r.a.createElement("p",null,r.a.createElement("span",{style:{fontSize:46}},r.a.createElement("svg",{style:{width:40,height:40,marginRight:8,fill:"none",display:"inline"},viewBox:"0 0 22 22",class:"css-1n04boc"},r.a.createElement("path",{d:"M4.18817 0.940674L9.37024 8.99389M9.37024 8.99389H0.266602M9.37024 8.99389H12.7316",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"bevel"}),r.a.createElement("path",{d:"M17.9129 0.940674L12.7308 8.99389H21.8345",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"bevel"}),r.a.createElement("path",{d:"M4.18817 21.4407L9.37024 13.3875M9.37024 13.3875H0.266602M9.37024 13.3875H12.7316",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"bevel"}),r.a.createElement("path",{d:"M17.9129 21.4407L12.7308 13.3875H21.8345",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"bevel"})),r.a.createElement("b",null,"STX:")," ",r.a.createElement("i",{style:{color:"#f82a5c",fontWeight:"bold",fontStyle:"normal"}},i.mint_price.value)),r.a.createElement("br",null),r.a.createElement("b",null,"Public:")," ",0===parseInt(i.public_value.value)?"YES":"NO"),r.a.createElement(D.b,{color:"danger",style:{color:"#fff"},className:"mt-3",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:Y(!0),J.closeMintEvent({},f,d,(function(e){Y(!1),p({type:"add_transaction",tx:e}),h(!1)}),(function(e){Y(!1),p({type:"add_transaction",tx:e})}));case 4:case"end":return e.stop()}}),e)})))},X?r.a.createElement(D.m,{size:"sm"}):"Close event")):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{color:"primary"},"Maybe a mint event is coming"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Open mint event"),r.a.createElement("p",null,"Fill in the form and confirm opening"),r.a.createElement(D.e,{floating:!0},r.a.createElement(D.f,{value:T,type:"number",id:"fee",onChange:function(e){return j(e.target.value)}}),r.a.createElement(D.g,{for:"fee"},"STX Fee")),r.a.createElement(D.e,{floating:!0},r.a.createElement(D.f,{type:"select",value:w,id:"import",onChange:function(e){return N(e.target.value)}},r.a.createElement("option",{value:"0"},"Public"),r.a.createElement("option",{value:"1"},"Private")),r.a.createElement(D.g,{for:"import"},"Public/Private")),r.a.createElement(D.e,{floating:!0},r.a.createElement(D.f,{value:L,type:"number",id:"fee",onChange:function(e){return F(e.target.value)}}),r.a.createElement(D.g,{for:"fee"},"MAX mint per address")),r.a.createElement(D.b,{id:"confirm_open",color:"primary",style:{color:"#fff"},className:"mb-3",size:"md",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))},P?r.a.createElement(D.m,{size:"sm"}):r.a.createElement("b",null,"Confirm")),r.a.createElement(D.n,{placement:"bottom",target:"confirm_open",trigger:"focus"},r.a.createElement(D.k,null,"Are you sure to add this address?",r.a.createElement("br",null),r.a.createElement(D.b,{color:"primary",style:{color:"#fff"},className:"mb-3",size:"sm",onClick:Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:z(!0),J.openMintEvent({mint_price:T,public_value:w,address_mint:L},f,d,(function(e){z(!1),p({type:"add_transaction",tx:e}),h(!0)}),(function(e){z(!1),p({type:"add_transaction",tx:e})}));case 4:case"end":return e.stop()}}),e)})))},P?r.a.createElement(D.m,{size:"sm"}):"Yes"))))):r.a.createElement(D.m,{color:"primary"})}var $=n(328),q=n.n($);n(620),n(621);function G(e){var t=r.a.useState(!1),n=Object(A.a)(t,2),a=(n[0],n[1],r.a.useState("")),c=Object(A.a)(a,2),o=c[0],l=c[1],s=Object(C.useConnect)().doContractCall,i=r.a.useContext(x),u=i.UserState,d=i.UserDispatch,m=r.a.useState(!1),f=Object(A.a)(m,2),p=f[0],g=f[1],v=r.a.useState(0),E=Object(A.a)(v,2),h=E[0],b=E[1],O=r.a.useState(0),T=Object(A.a)(O,2),j=T[0],_=T[1],k=function e(t,n,a){var r=t+n,c=a.slice(t,r);J.addPunk({list:c},u,s,(function(t){d({type:"add_transaction",tx:t}),_(r),a.length>r-1?setTimeout((function(){return e(r,n,a)}),500):g(!1)}),(function(e){g(!1),d({type:"add_transaction",tx:e})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add punks to collection"),r.a.createElement("p",null,"Copy and paste a json array in the editor and then call the function"),p?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Process: ",j,"/",h)):r.a.createElement(q.a,{mode:"json",onChange:function(e){return l(e)},name:"editor_json",editorProps:{$blockScrolling:!0}}),r.a.createElement(D.b,{color:"primary",style:{color:"#fff"},className:"mt-3",onClick:Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:t=JSON.parse(o),b(t.length),g(!0),k(0,2,t);case 6:case"end":return e.stop()}}),e)})))},p?r.a.createElement(D.m,{size:"sm"}):"Add list"))}var Q=function(e){return new E.a(e.userData.profile).avatarUrl()},V=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,mounted:!1,currentTab:"mint"},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1}),this.context.UserDispatch({type:"update",obj:{isOwner:!0}})}},{key:"getChild",value:function(){var e=this;switch(this.state.currentTab){case"whitelist":return r.a.createElement(Y,null);case"event":return r.a.createElement(B,null);case"add_punk":return r.a.createElement(G,null);default:return r.a.createElement(D.b,{color:"primary",className:"sign-out",onClick:Object(y.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K.getLastTokenId([],e.context.UserState,(function(e){console.log("last nft",e)})),K.isCtxOwner([],e.context.UserState,(function(e){console.log("is owner",e)})),K.getLastPunkId([],e.context.UserState,(function(e){console.log("last punk",e)})),K.isOpenMinting([],e.context.UserState,(function(e){console.log("open minting",e)}));case 4:case"end":return t.stop()}}),t)})))},this.state.loading?r.a.createElement(D.m,{size:"sm"}):"TEST")}}},{key:"render",value:function(){var e=this;return r.a.createElement(D.d,{fluid:!0},r.a.createElement(D.l,null,r.a.createElement(D.c,{xs:12,sm:6,md:4,className:"p-3"},this.state.loading?r.a.createElement(D.m,null):r.a.createElement(D.h,{pills:!0,vertical:!0},r.a.createElement(D.i,null,r.a.createElement(D.j,{active:"mint"===this.state.currentTab,onClick:function(){return e.setState({currentTab:"mint"})},href:"#"},"Mint your punk")),this.context.UserState.isOwner?r.a.createElement(D.i,null,r.a.createElement(D.j,{href:"#",active:"whitelist"===this.state.currentTab,onClick:function(){return e.setState({currentTab:"whitelist"})}},"Whitelist")):null,this.context.UserState.isOwner?r.a.createElement(D.i,null,r.a.createElement(D.j,{href:"#",active:"event"===this.state.currentTab,onClick:function(){return e.setState({currentTab:"event"})}},"Mint event")):null,this.context.UserState.isOwner?r.a.createElement(D.i,null,r.a.createElement(D.j,{href:"#",active:"add_punk"===this.state.currentTab,onClick:function(){return e.setState({currentTab:"add_punk"})}},"Add punks")):null)),r.a.createElement(D.c,{xs:12,sm:6,md:8},r.a.createElement("div",{style:{textAlign:"right"}},Q(this.context.UserState)?r.a.createElement("img",{src:Q(this.context.UserState)}):null,r.a.createElement(D.b,{className:"sign-out",style:{marginLeft:12},color:"link",onClick:Object(y.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.signUserOut(),e.context.UserDispatch({type:"logout"});case 2:case"end":return t.stop()}}),t)})))},"Sign out")),r.a.createElement("div",{className:"clearfix"}),r.a.createElement(D.d,{fluid:"true"},this.getChild()))))}}]),n}(r.a.Component);V.contextType=x;var Z=function(e){var t=r.a.useState(!1),n=Object(A.a)(t,2),a=n[0],c=n[1],o=Object(C.useConnect)().doOpenAuth;return r.a.createElement("div",{style:{alignItems:"center"}},r.a.createElement("h1",{className:"title"},"Punks Army NFT Club"),r.a.createElement(D.b,{color:"primary",style:{color:"#fff",display:"block",margin:"60px auto",textTransform:"uppercase"},size:"lg",onClick:function(){c(!0),o(),c(!1)}},a?r.a.createElement(D.m,null):r.a.createElement("b",null,"Join the club")))},ee=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(console.log("ctx",this.context),b.isSignInPending())b.handlePendingSignIn().then((function(t){console.log("userData",t),window.history.replaceState({},document.title,"/"),e.setState({user:t}),e.context.UserDispatch({type:"update",obj:{logged:!0,userData:t}})}));else if(b.isUserSignedIn()){var t=b.loadUserData();console.log("userData",t),this.setState({user:t}),this.context.UserDispatch({type:"update",obj:{logged:!0,userData:t}})}}},{key:"render",value:function(){return r.a.createElement(d.a,{theme:m.a},r.a.createElement(C.Connect,{authOptions:O},r.a.createElement(f.a,null,r.a.createElement("img",{className:"app_logo",src:"./images/logo.png"}),r.a.createElement("div",{className:"site-wrapper"},r.a.createElement("div",{className:"site-wrapper-inner"},this.context.UserState.logged?r.a.createElement(V,null):r.a.createElement(Z,null)))),r.a.createElement(p.a,null)))}}]),n}(r.a.Component);ee.contextType=x;var te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null,r.a.createElement(ee,null)))},ne=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,672)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),ne()}},[[343,2,3]]]);
//# sourceMappingURL=main.03c9ed6d.chunk.js.map